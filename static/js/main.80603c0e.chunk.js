(this.webpackJsonpcalc=this.webpackJsonpcalc||[]).push([[0],{147:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a(0),r=a.n(i),n=a(8),o=a.n(n),l=(a(98),a(47)),c=(a(68),a(69),a(29)),d=(a(70),a(147),a(19)),j=a(203);var b=function(e){return Object(s.jsx)("div",{className:"main-container",children:Object(s.jsx)("div",{className:"main-info animate__animated animate__fadeInRight",children:Object(s.jsxs)("div",{className:"main-info-center",children:[Object(s.jsx)("h3",{className:"info-title",children:"Witaj drogi u\u017cytkowniku!"}),Object(s.jsx)("div",{className:"info-content",children:Object(s.jsx)("p",{children:"Calcounter jest aplikacja stworzon\u0105 dla ludzi kt\xf3rzy chc\u0105 zrobi\u0107 co\u015b ze swoim \u017cyciem. Pozwala na \u0142atwe obliczenie kalorii spo\u017cywanych w ci\u0105gu dnia. Z nasz\u0105 pomoc\u0105 zbudujesz sylwetk\u0119 swoich marze\u0144, schudniesz, lub nabierzesz masy mi\u0119\u015bniowej, nie odbieraj\u0105c sobie przyjemno\u015bci z jedzenia. W naszej aplikacji znajduj\u0105 si\u0119 r\xf3wnie\u017c gotowe diety kt\xf3re s\u0105 do Twojej dyspozycji. "})}),Object(s.jsx)(d.b,{className:"button-link",to:"/landpage",children:Object(s.jsx)(j.a,{className:"button",style:{fontSize:"20px"},variant:"contained",color:"secondary",children:"Zaczynajmy!"})})]})})})},h=a(202),m=a(11),u=a(34),O=a.n(u),v=Object(i.createContext)();function g(){return Object(i.useContext)(v)}var p=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),r=a[0],n=a[1],o=Object(i.useState)(!1),l=Object(c.a)(o,2),b=l[0],u=l[1],v=Object(i.useState)(""),p=Object(c.a)(v,2),f=p[0],x=p[1],N=Object(i.useState)(""),w=Object(c.a)(N,2),y=w[0],C=w[1],k=g().setAuthTokens;return void 0!==e.location.state?e.location.state.referer:"/",r?Object(s.jsx)(m.a,{to:"/secret"}):Object(s.jsx)("div",{className:"land-container",children:Object(s.jsx)("div",{className:"sign-in-container animate__animated animate__fadeInRight",children:Object(s.jsxs)("div",{className:"center-container",children:[Object(s.jsx)("h3",{children:"Zaloguj si\u0119!"}),Object(s.jsxs)("div",{className:"form-container",children:[Object(s.jsxs)("form",{Validate:!0,autoComplete:"off",onSubmit:function(){O.a.post("http://localhost/api/login.php",{login:f,password:y}).then((function(e){200===e.status?(k(e.data),n(!0)):u(!0)})).catch((function(e){u(!0)}))},children:[Object(s.jsx)(h.a,{id:"outlined-basic",value:f,onChange:function(e){x(e.target.value)},label:"Login...",type:"text",name:"login",variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(h.a,{id:"outlined-basic",label:"Password...",type:"password",name:"password",onChange:function(e){C(e.target.value)},variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(j.a,{className:"submit-button",style:{fontSize:"15px"},variant:"contained",type:"submit",color:"secondary",children:"Zaloguj"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]}),Object(s.jsxs)("p",{children:["Nie masz konta?",Object(s.jsx)(d.b,{to:"/register",style:{color:"rose",cursor:"pointer",fontWeight:"bold",textDecoration:"none"},children:" Kliknij tutaj"})," aby je szybko za\u0142o\u017cy\u0107."]}),b&&Object(s.jsx)("p",{children:"The username or password provided were incorrect!"})]})]})})})},f=a(24),x=a(82),N=a(83),w=a(18),y=a(85),C=a(84),k=(a(168),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),z=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\w\s]).{8,}$/,E=function(e){Object(y.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={firstName:"",lastName:"",emailAddress:"",login:"",password:"",passwordConfirmation:"",firstNameError:"",lastNamerror:"",emailAddressError:"",loginError:"",passwordError:"",passwordConfirmationError:"",isFormSubmitted:!1,loginFree:"",emailAddressFree:""},e.handleChange=e.handleChange.bind(Object(w.a)(e)),e.handleBlur=e.handleBlur.bind(Object(w.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(w.a)(e)),e.validateFirstName=e.validateFirstName.bind(Object(w.a)(e)),e.validateLastName=e.validateLastName.bind(Object(w.a)(e)),e.validateLogin=e.validateLogin.bind(Object(w.a)(e)),e.validateEmailAddress=e.validateEmailAddress.bind(Object(w.a)(e)),e.validatePassword=e.validatePassword.bind(Object(w.a)(e)),e.validatePasswordConfirmation=e.validatePasswordConfirmation.bind(Object(w.a)(e)),e.validateField=e.validateField.bind(Object(w.a)(e)),e}return Object(N.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(f.a)({},a,s))}},{key:"handleBlur",value:function(e){var t=e.target.name;this.validateField(t)}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=!0;if(["firstName","lastName","login","emailAddress","password","passwordConfirmation"].forEach((function(e){a=t.validateField(e)&&a})),a){var s={firstName:this.state.firstName,lastName:this.state.lastName,login:this.state.login,emailAddress:this.state.emailAddress,password:this.state.password};O.a.post("http://localhost/api/api.php",s).then(this.setState({isFormSubmitted:!0}),this.setState({firstName:"",lastName:"",emailAddress:"",login:"",password:"",passwordConfirmation:"",firstNameError:"",lastNamerror:"",emailAddressError:"",loginError:"",passwordError:"",passwordConfirmationError:"",loginFree:"",emailAddressFree:""}))}else this.setState({isFormSubmitted:!1});return this.state.isFormSubmitted}},{key:"validateField",value:function(e){var t=!1;return"firstName"===e?t=this.validateFirstName():"lastName"===e?t=this.validateLastName():"emailAddress"===e?t=this.validateEmailAddress():"password"===e?t=this.validatePassword():"login"===e?t=this.validateLogin():"passwordConfirmation"===e&&(t=this.validatePasswordConfirmation()),t}},{key:"validateFirstName",value:function(){var e="";return""===this.state.firstName.trim()&&(e="Imi\u0119 jest wymagane!"),this.setState({firstNameError:e}),!0}},{key:"validateLogin",value:function(){var e=this,t="",a="",s={login:this.state.login};return""===this.state.login.trim()?t="Login jest wymagany!":O.a.post("http://localhost/api/login_check.php",s).then((function(s){return"taken"===s.data?(t="Login jest zaj\u0119ty!",console.log(t)):(a="Login jest wolny!",console.log(a)),e.setState({loginError:t,loginFree:a}),""===a})),this.setState({loginError:t}),""===a}},{key:"validateLastName",value:function(){var e="";return""===this.state.lastName.trim()&&(e="Nazwisko jest wymagane!"),this.setState({lastNameError:e}),""===e}},{key:"validateEmailAddress",value:function(){var e=this,t="",a={emailAddress:this.state.emailAddress},s="",i=this.state.emailAddress;return""===i.trim?t="E-mail jest wymagany!":k.test(i)?O.a.post("http://localhost/api/email_check.php",a).then((function(a){return"taken"===a.data?t="Na ten adres e-mail jest ju\u017c za\u0142o\u017cone konto!":s="Adres e-mail jest wolny!",e.setState({emailAddressError:t,emailAddressFree:s}),""===s})):t="Nie poprawny adres e-mail!",this.setState({emailAddressError:t,emailAddressFree:s}),""===s}},{key:"validatePassword",value:function(){var e="",t=this.state.password;return""===t.trim?e="Has\u0142o jest wymagane":z.test(t)||(e="Has\u0142o musi zawiera\u0107 co najmniej 8 znak\xf3w, 1 liczb\u0119, 1 wielk\u0105 i 1 ma\u0142\u0105 liter\u0119 oraz znak specjalny!"),this.setState({passwordError:e}),""===e}},{key:"validatePasswordConfirmation",value:function(){var e="";return this.state.password!==this.state.passwordConfirmation&&(e="Has\u0142a nie zgadzaj\u0105 si\u0119!"),this.setState({passwordConfirmationError:e}),""===e}},{key:"render",value:function(){var e;return Object(s.jsx)("div",{className:"register-container",children:Object(s.jsx)("div",{className:"register animate__animated animate__fadeInRight",children:Object(s.jsxs)("div",{className:"register-center-container",children:[Object(s.jsx)("h3",{children:"Zarejestruj si\u0119!"}),Object(s.jsxs)("div",{className:"register-form-container",children:[Object(s.jsxs)("form",{Validate:!0,autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(s.jsx)(h.a,{id:"outlined-basic",label:"Imi\u0119...",type:"text",name:"firstName",color:"secondary",onChange:this.handleChange,value:this.state.firstName,onBlur:this.handleBlur,variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),this.state.firstNameError&&Object(s.jsx)("div",{className:"errorMsg",children:this.state.firstNameError}),this.state.firstNameRight&&Object(s.jsx)("div",{className:"RightMsg",children:this.state.firstNameRight}),Object(s.jsx)(h.a,(e={id:"outlined-basic",label:"Nazwisko...",type:"text",name:"login"},Object(f.a)(e,"name","lastName"),Object(f.a)(e,"value",this.state.lastName),Object(f.a)(e,"onChange",this.handleChange),Object(f.a)(e,"onBlur",this.handleBlur),Object(f.a)(e,"variant","outlined"),e)),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),this.state.lastNameError&&Object(s.jsx)("div",{className:"errorMsg",children:this.state.lastNameError}),Object(s.jsx)(h.a,{id:"outlined-basic",label:"Login...",type:"text",name:"login",value:this.state.login,onChange:this.handleChange,onBlur:this.handleBlur,variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),this.state.loginError&&Object(s.jsx)("div",{className:"errorMsg",children:this.state.loginError}),this.state.loginFree&&Object(s.jsx)("div",{className:"RightMsg",children:this.state.loginFree}),Object(s.jsx)(h.a,{id:"outlined-basic",label:"E-mail...",type:"email",name:"emailAddress",value:this.state.emailAddress,onChange:this.handleChange,onBlur:this.handleBlur,variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),this.state.emailAddressError&&Object(s.jsx)("div",{className:"errorMsg",children:this.state.emailAddressError}),this.state.emailAddressFree&&Object(s.jsx)("div",{className:"RightMsg",children:this.state.emailAddressFree}),Object(s.jsx)(h.a,{id:"outlined-basic",label:"Has\u0142o...",type:"password",value:this.state.password,onChange:this.handleChange,onBlur:this.handleBlur,autoComplete:"off",name:"password",variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),this.state.passwordError&&Object(s.jsx)("div",{className:"errorMsg",children:this.state.passwordError}),Object(s.jsx)(h.a,{id:"outlined-basic",label:"Potwierd\u017a has\u0142o...",type:"password",name:"passwordConfirmation",value:this.state.passwordConfirmation,onChange:this.handleChange,onBlur:this.handleBlur,autoComplete:"off",variant:"outlined"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),this.state.passwordConfirmationError&&Object(s.jsx)("div",{className:"errorMsg",children:this.state.passwordConfirmationError}),Object(s.jsx)(j.a,{className:"submit-button",style:{fontSize:"15px"},variant:"contained",type:"submit",color:"secondary",children:"Zarejestruj"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]}),Object(s.jsxs)("p",{children:["Masz ju\u017c konto?",Object(s.jsx)(d.b,{to:"/landpage",style:{color:"rose",cursor:"pointer",fontWeight:"bold",textDecoration:"none"},children:" Kliknij tutaj"})," aby si\u0119 zalogowa\u0107."]}),this.state.isFormSubmitted?Object(s.jsx)("p",{style:{color:"green"},children:"Uda\u0142o si\u0119, zosta\u0142e\u015b zarejestrowany!"}):""]})]})})})}}]),a}(i.Component);a(169);var S=function(e){var t=g().setAuthTokens;return Object(s.jsxs)("div",{className:"redsc",children:[Object(s.jsx)("p",{children:"Secret"}),Object(s.jsx)("button",{onClick:function(){t()},children:"Log out"})]})},A=a(48),F=a(86);var B=function(e){var t=e.component,a=Object(F.a)(e,["component"]),i=g().authTokens;return Object(s.jsx)(m.b,Object(A.a)(Object(A.a)({},a),{},{render:function(e){return i?Object(s.jsx)(t,Object(A.a)({},e)):Object(s.jsx)(m.a,{to:{pathname:"/landing",state:{referer:e.location}}})}}))};var L=function(e){var t=Object(i.useState)(),a=Object(c.a)(t,2),r=a[0],n=a[1];return Object(s.jsx)(v.Provider,{value:{authTokens:r,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),n(e)}},children:Object(s.jsxs)(m.d,{children:[Object(s.jsx)(m.b,{exact:!0,path:"/",component:b}),Object(s.jsx)(m.b,{exact:!0,path:"/landpage",component:p}),Object(s.jsx)(m.b,{exact:!0,path:"/register",component:E}),Object(s.jsx)(B,{path:"/secret",component:S})]})})};a(170);var P=function(){return Object(s.jsx)("div",{className:"demo-big-content",children:Object(s.jsxs)(l.Layout,{fixedHeader:!0,className:"background",children:[Object(s.jsx)(l.Header,{transparent:!0,title:Object(s.jsx)(d.b,{className:"logo",to:"/",children:"Calcounter"})}),Object(s.jsxs)(l.Content,{className:"content",children:[Object(s.jsx)(L,{}),Object(s.jsx)("div",{className:"footer",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{class:"far fa-copyright"}),"JPcollab"]})})]})]})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,205)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),s(e),i(e),r(e),n(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(d.a,{children:Object(s.jsx)(P,{})})}),document.getElementById("root")),_()},70:function(e,t,a){},98:function(e,t,a){}},[[171,1,2]]]);
//# sourceMappingURL=main.80603c0e.chunk.js.map